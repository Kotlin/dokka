(()=>{"use strict";function e(t,n){return!(!t||!t.classList.contains(n))||!!t.parentElement&&e(t.parentElement,n)}function t(){return window.innerWidth<440?"mobile":window.innerWidth>=440&&window.innerWidth<900?"tablet":"desktop"}var n=function(){function e(e){this.trapElement=e,this.handleKeyDown=this.handleKeyDown.bind(this),this.trapElement.addEventListener("keydown",this.handleKeyDown)}return e.prototype.handleKeyDown=function(e){var t=Array.from(this.trapElement.querySelectorAll('[role="option"]')).filter((function(e){return"none"!==e.style.display&&-1!==e.tabIndex}));if(["Tab","ArrowDown","ArrowUp"].includes(e.key)&&0!==t.length){var n=t[0],o=t[t.length-1];if(console.log("key",e.key),console.log("activeElement",document.activeElement),"ArrowUp"===e.key)if(document.activeElement===n)o.focus();else{var r=t.indexOf(document.activeElement);t[r-1].focus()}"ArrowDown"===e.key&&(document.activeElement===o?n.focus():(r=t.indexOf(document.activeElement),t[r+1].focus())),"Tab"===e.key&&(e.shiftKey?document.activeElement===n&&(o.focus(),e.preventDefault()):document.activeElement===o&&(n.focus(),e.preventDefault()))}},e.prototype.destroy=function(){this.trapElement.removeEventListener("keydown",this.handleKeyDown)},e}(),o='[data-role="dropdown-toggle"]',r='[data-role="dropdown-listbox"]';function i(e,t){var n,i=t.querySelectorAll(o);null==i||i.forEach(l),null==(n=t.querySelector(r))||n.classList.toggle("dropdown--list_expanded")}function l(e){e.classList.contains("button_dropdown")&&e.classList.toggle("button_dropdown_active")}function a(t){var n=t.target;e(n,"dropdown")&&"filter-section-overlay"!==n.id||document.querySelectorAll(".button_dropdown").forEach((function(e){var t,n;e.classList.remove("button_dropdown_active"),null===(n=null===(t=e.parentNode)||void 0===t?void 0:t.querySelector(".dropdown--list"))||void 0===n||n.classList.remove("dropdown--list_expanded")}))}function c(e){e.tag.removeAttribute("style"),e.option.setAttribute("style","display: none")}function d(e){e.tag.setAttribute("style","display: none"),e.option.removeAttribute("style")}function u(e){var t,n=null===(t=e.querySelector(".checkbox--input"))||void 0===t?void 0:t.getAttribute("data-filter"),o=filteringContext.activeFilters.findIndex((function(e){return e===n}));-1===o?filteringContext.activeFilters.push(n):filteringContext.activeFilters.splice(o,1),refreshFiltering(),refreshSourcesetsCache()}document.addEventListener("DOMContentLoaded",(function(){document.querySelectorAll('[data-role="dropdown"]').forEach((function(e){var t;null===(t=e.querySelectorAll(o))||void 0===t||t.forEach((function(t){t.addEventListener("click",(function(t){return i(0,e)}))})),function(e){new n(e),e.addEventListener("keydown",(function(t){var n;"Escape"===t.key&&(i(0,e),null===(n=e.querySelector(o))||void 0===n||n.focus())}))}(e)})),document.addEventListener("click",a)})),document.addEventListener("DOMContentLoaded",(function(){var e=document.getElementById("navigation-wrapper"),n=document.getElementById("library-version"),o=document.getElementById("filter-section"),r=document.querySelector("#filter-section + .navigation-controls--btn"),i=document.getElementById("filter-section-dropdown");if(e&&n&&o&&r&&i){var l=null==o?void 0:o.querySelectorAll(".dropdown--option"),a=null==o?void 0:o.querySelectorAll(".platform-selector");if(a&&l)if(a.length===l.length){var s=Array.from({length:a.length}).map((function(e,t){return{tag:a[t],option:l[t]}})),f=s.map((function(e){return e.tag.getBoundingClientRect().width})),v=t(),g=new ResizeObserver((function(){var n=t();v!==n&&(s.forEach(c),f=function(e){return e.map((function(e){return e.tag.getBoundingClientRect().width}))}(s)),v=n,y(),g.unobserve(e)})),m=function(){g.observe(e)};y(),m(),l.forEach((function(e){e.addEventListener("click",(function(e){u(e.target)})),e.addEventListener("keydown",(function(e){var t=e.key;"Enter"!==t&&" "!==t||u(e.target)}))})),window.addEventListener("resize",m)}else console.error("Filter section items are not equal");else console.error("Filter section items are not found")}else console.error("Navbar elements are not found");function y(){var t,l;if(e&&i){if(e.getBoundingClientRect().width<900)return s.forEach(d),void i.removeAttribute("style");var a=(n&&r?r.getBoundingClientRect().left-n.getBoundingClientRect().right:0)-44-10,u=0;i.removeAttribute("style");var v=!1;s.forEach((function(e,t){(u+=f[t]+4)<a?(c(e),v=!0):(d(e),i.setAttribute("style","display: block"))})),v?null===(t=i.firstElementChild)||void 0===t||t.classList.remove("filter-section--dropdown-toggle_as-filters"):null===(l=i.firstElementChild)||void 0===l||l.classList.add("filter-section--dropdown-toggle_as-filters"),null==o||o.classList.remove("filter-section_loading")}}}));var s=function(e){var t="function"==typeof Symbol&&Symbol.iterator,n=t&&e[t],o=0;if(n)return n.call(e);if(e&&"number"==typeof e.length)return{next:function(){return e&&o>=e.length&&(e=void 0),{value:e&&e[o++],done:!e}}};throw new TypeError(t?"Object is not iterable.":"Symbol.iterator is not defined.")},f=function(){var e=!1;try{var t="__testLocalStorageKey__";localStorage.setItem(t,t),localStorage.removeItem(t),e=!0}catch(e){console.error("Local storage is not available",e)}return{getItem:function(t){return e?localStorage.getItem(t):null},setItem:function(t,n){e&&localStorage.setItem(t,n)}}}();function v(e){var t,n=null===(t=e.getAttribute("data-togglable"))||void 0===t?void 0:t.split(",");!function(){var t,n,o,r;try{for(var i=s(document.getElementsByClassName("tabs-section")),l=i.next();!l.done;l=i.next()){var a=l.value;try{for(var c=(o=void 0,s(a.children)),d=c.next();!d.done;d=c.next()){var u=d.value;u.getAttribute("data-togglable")===e.getAttribute("data-togglable")?u.setAttribute("data-active",""):u.removeAttribute("data-active")}}catch(e){o={error:e}}finally{try{d&&!d.done&&(r=c.return)&&r.call(c)}finally{if(o)throw o.error}}}}catch(e){t={error:e}}finally{try{l&&!l.done&&(n=i.return)&&n.call(i)}finally{if(t)throw t.error}}}(),document.querySelectorAll(".tabs-section-body *[data-togglable]").forEach((function(e){var t=e.getAttribute("data-togglable");n&&t&&n.includes(t)?e.setAttribute("data-active",""):e.classList.contains("sourceset-dependent-content")||e.removeAttribute("data-active")}))}window.initTabs=function(){var e=document.querySelector(".main-content"),t="active-tab-"+(e?e.getAttribute("data-page-type"):null);document.querySelectorAll("div[tabs-section]").forEach((function(e){!function(e){var t=e.querySelector("button[data-active]");t&&v(t)}(e),e.addEventListener("click",(function(e){var n=e.target,o=n?n.getAttribute("data-togglable"):null;o&&(f.setItem(t,JSON.stringify(o)),v(n))}))}));var n=f.getItem(t);if(n){var o=document.querySelector('div[tabs-section] > button[data-togglable="'+JSON.parse(n)+'"]');o&&v(o)}},window.toggleSections=v})();